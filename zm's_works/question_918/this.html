<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    // 1
    function foo () {
      console.log(this) // this -> window
    }

    // 2
    var status = 'global'
    var obj = {
      status: 'obj',
      getStatus: function () {
        return this.status
      }
    }
    console.log(obj.getStatus())
    var fun = obj.getStatus
    console.log(fun())
    // this 调用时候才能决定this 指向哪里

    // 3
    // call apply bind

    function bar() {
      console.log(this.name)
    }
    var obj3 = {
      name: 'obj3'
    }
    var cbar = bar.call(obj3)
    var bbar = bar.bind(obj3)()

    // 4 new
    function Test () {
      this.name = 'name'
    }
    var test = new Test()
    // Test 里面的 this 指向 test

    // 优先级 new > bind() > obj.func > func
  </script>
</body>
</html>